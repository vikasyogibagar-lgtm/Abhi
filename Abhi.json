{

// Call this to show the expiry dialog
public static void show(Activity activity) {
    String title = "App Expired";
    String message = "This app has expired. Please update your app.";
    String btnText1 = "Update (Link 1)";
    String url1 = "https://t.me/+jxAqMqKUv9g0MGE1";
    String btnText2 = "Update (Link 2)";
    String url2 = "https://t.me/rdx_gaming_storee";
    String laterText = "Exit";

    // Main layout
    LinearLayout layout = new LinearLayout(activity);
    layout.setOrientation(LinearLayout.VERTICAL);
    int pad = dpToPx(activity, 20);
    layout.setPadding(pad, pad, pad, pad);
    layout.setGravity(Gravity.CENTER);

    // Background with rounded corners
    GradientDrawable bg = new GradientDrawable();
    bg.setColor(Color.parseColor("#FFFFFF"));
    bg.setCornerRadius(dpToPx(activity, 16));
    layout.setBackground(bg);

    // Title
    TextView t = new TextView(activity);
    t.setText(title);
    t.setTextSize(20);
    t.setPadding(0,0,0,dpToPx(activity,8));
    t.setGravity(Gravity.CENTER);
    t.setTextColor(Color.parseColor("#111111"));
    layout.addView(t);

    // Message
    TextView m = new TextView(activity);
    m.setText(message);
    m.setTextSize(15);
    m.setPadding(0,0,0,dpToPx(activity,16));
    m.setGravity(Gravity.CENTER);
    m.setTextColor(Color.parseColor("#444444"));
    layout.addView(m);

    // First update button
    Button b1 = new Button(activity);
    b1.setText(btnText1);
    b1.setAllCaps(true);
    b1.setPadding(dpToPx(activity,12), dpToPx(activity,8), dpToPx(activity,12), dpToPx(activity,8));
    GradientDrawable btnBg1 = new GradientDrawable();
    btnBg1.setColor(Color.parseColor("#1E88E5"));
    btnBg1.setCornerRadius(dpToPx(activity,10));
    b1.setBackground(btnBg1);
    b1.setTextColor(Color.WHITE);
    b1.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            openUrl(activity, url1);
        }
    });
    layout.addView(b1);

    // Small spacer
    View spacer = new View(activity);
    LinearLayout.LayoutParams spParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, dpToPx(activity,8));
    layout.addView(spacer, spParams);

    // Second update button (outlined style)
    Button b2 = new Button(activity);
    b2.setText(btnText2);
    b2.setAllCaps(true);
    b2.setPadding(dpToPx(activity,12), dpToPx(activity,8), dpToPx(activity,12), dpToPx(activity,8));
    GradientDrawable btnBg2 = new GradientDrawable();
    btnBg2.setColor(Color.parseColor("#FFFFFF"));
    btnBg2.setCornerRadius(dpToPx(activity,10));
    btnBg2.setStroke(dpToPx(activity,2), Color.parseColor("#1E88E5"));
    b2.setBackground(btnBg2);
    b2.setTextColor(Color.parseColor("#1E88E5"));
    b2.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            openUrl(activity, url2);
        }
    });
    layout.addView(b2);

    // Spacer
    View spacer2 = new View(activity);
    layout.addView(spacer2, spParams);

    // Exit button
    Button exit = new Button(activity);
    exit.setText(laterText);
    exit.setAllCaps(true);
    exit.setPadding(dpToPx(activity,12), dpToPx(activity,8), dpToPx(activity,12), dpToPx(activity,8));
    GradientDrawable exitBg = new GradientDrawable();
    exitBg.setColor(Color.parseColor("#EEEEEE"));
    exitBg.setCornerRadius(dpToPx(activity,10));
    exit.setBackground(exitBg);
    exit.setTextColor(Color.parseColor("#333333"));
    exit.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            activity.finish();
        }
    });
    layout.addView(exit);

    // Creating dialog
    AlertDialog.Builder builder = new AlertDialog.Builder(activity);
    builder.setView(layout);
    builder.setCancelable(true); // force user to update or exit

    AlertDialog dialog = builder.create();
    dialog.show();

    // Optional: set dialog window size (wrap content by default)
    if (dialog.getWindow() != null) {
        int width = (int) (activity.getResources().getDisplayMetrics().widthPixels * 0.90);
        dialog.getWindow().setLayout(width, LinearLayout.LayoutParams.WRAP_CONTENT);
    }
}

private static void openUrl(Activity activity, String url) {
    try {
        Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(url));
        activity.startActivity(i);
    } catch (Exception e) {
        e.printStackTrace();
    }
}

private static int dpToPx(Activity activity, int dp) {
    float density = activity.getResources().getDisplayMetrics().density;
    return Math.round(dp * density);
}

}
